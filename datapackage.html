<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
<title>datapackage. hcapi3 3.8</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="author" content="">

<link href="css/bootstrap.css" rel="stylesheet">
<link href="css/bootstrap-responsive.css" rel="stylesheet">
<link href="css/highlight.css" rel="stylesheet">
<link href="css/staticdocs.css" rel="stylesheet">

<!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript"
  src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
  </head>

  <body>
    <div class="navbar">
  <div class="navbar-inner">
    <div class="container">
      <a class="brand" href="#">hcapi3 3.8</a>
      <div class="nav">
        <ul class="nav">
          <li><a href="index.html"><i class="icon-home icon-white"></i> Index</a></li>
        </ul>
      </div>
    </div>
  </div>
</div>

    <div class="container">
      <header>
        
      </header>
      
      <h1>Write auxiliary files to CSV and JSON (Tabular Data Package RFC specifications)</h1>

<div class="row">
  <div class="span8">
    <h2>Usage</h2>
    <pre><div>datapackage(var, format&nbsp;=&nbsp;NULL, dir&nbsp;=&nbsp;".")</div></pre>
    
    <h2>Arguments</h2>
    <dl>
      <dt>var</dt>
      <dd>character array of HarvestChoice indicator code(s)</dd>
      <dt>format</dt>
      <dd>file extension corresponding to the data package output
format. See <code><a href='genFile.html'>genFile</a></code>. If <code>NULL</code> no auxiliary file is produced
aside from metadata records in <code>meta.csv</code>.</dd>
      <dt>dir</dt>
      <dd>character, optional output directory. Default to current working directory.</dd>
    </dl>
    
    <div class="Value">
      <h2>Value</h2>

      <p><dl>
character array of generated auxiliary file names
</dl></p>
  
    </div>

    <div class="Description">
      <h2>Description</h2>

      <p>Auxiliary files and metadata are appended to all data packages, but may also be
generated separately. Variable metadata is made available in tabular (.csv)
and in JSON (.json) format in conformity with Tabular Data Package RFC
specifications at <a href = 'http://dataprotocols.org/tabular-data-package/'>http://dataprotocols.org/tabular-data-package/</a>.</p>
  
    </div>

    <div class="Details">
      <h2>Details</h2>

      <p>API call: Generate auxiliary files for soil organic carbon concentration and
2012 total population</p>
  
      <p><code>$ curl http://hcapi.harvestchoice.org/ocpu/library/hcapi3/R/datapackage \
 -d '{"var" : ["soc_d5", "PN12_TOT"]}' \
 -X POST -H 'Content-Type:application/json'
</code></p>
  
    </div>
    
    <h2 id="examples">Examples</h2>
    <pre class="examples"><div class='input'># Generate auxiliary files for soil organic carbon concentration and 2012 total population
x &lt;- datapackage(c(&quot;soc_d5&quot;, &quot;PN12_TOT&quot;))
x &lt;- fread(x[1])
x
</div>
<div class='output'>       code                    label
1:   soc_d5 Soil org. carbon (0-5cm)
2: PN12_TOT           Total Pop. &#39;12
                                                                                                     description
1:                                             Soil organic carbon content (fine earth fraction) at 0-5cm depth.
2: Total population downscaled from LandScan 2012 population counts at 30 arc-second to 5 arc-minute resolution.
         type      unit    version
1: continuous permilles SChEF r2.5
2: continuous   persons SChEF r2.5
                                                         aggFormula      period     category
1: sum(soc_d5*cpland_mean_ha, na.rm=T)/sum(cpland_mean_ha, na.rm=T) 1950 - 2012  Agroecology
2:                                        sum(PN12_TOT, na.rm=TRUE)        2012 Demographics
      subcategory           item
1: Soil Resources Soil Fertility
2:     Population          Total
                                                                                                                                                                                                    source
1: ISRIC (2014) &quot;&quot;World Soil Information&quot;&quot;, in collaboration with The Earth Institute, Columbia University World Agroforestry Centre, Nairobi and the International Center for Tropical Agriculture (CIAT)
2:                          Bright, E. A. and Rose, A. N. (2012) &quot;&quot;LandScan Global Population Database 2012&quot;&quot;, Oak Ridge National Laboratory, July 2013. Retrieved from http://web.ornl.gov/sci/landscan/.
             contact downloadedOn
1:   j.koo@cgiar.org   12/08/2016
2: m.bacou@cgiar.org   12/08/2016
                                                                                                                                                                                                                                  citation
1: HarvestChoice, 2015. &quot;&quot;Soil Organic Carbon Content (depth 0-5cm)&quot;&quot;, International Food Policy Research Institute, Washington, DC., and University of Minnesota, St. Paul, MN. Available online at http://harvestchoice.org/data/soc_d5.
2:                HarvestChoice, 2015. &quot;&quot;Population, Total (2012)&quot;&quot;, International Food Policy Research Institute, Washington, DC., and University of Minnesota, St. Paul, MN. Available online at http://harvestchoice.org/data/PN12_TOT.
</div>
<div class='input'></div></pre>
  </div>
  <div class="span4">
    <!-- <ul>
      <li>datapackage</li>
    </ul>
    <ul>
      
    </ul> -->
      
    <h2>See also</h2>
    
<a href='indicator.html'>indicator</a> and <a href='category.html'>category</a> for other convenience
methods to query HarvestChoice metadata.

        
  </div>
</div>
      
      <footer>
      <p class="pull-right"><a href="#">Back to top</a></p>
<p>Built by <a href="https://github.com/hadley/staticdocs">staticdocs</a>. Styled with <a href="http://twitter.github.com/bootstrap">bootstrap</a>.</p>
      </footer>
    </div>
  </body>
</html>
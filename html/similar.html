<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>R: Rank spatial units by similarity</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="R.css">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.3/styles/github.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.3/highlight.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.3/languages/r.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
</head><body>

<table width="100%" summary="page for similar {hcapi3}"><tr><td>similar {hcapi3}</td><td align="right">R Documentation</td></tr></table>

<h2>Rank spatial units by similarity</h2>

<h3>Description</h3>

<p>Rank regions, districts, or pixels by similarity to a reference unit across a set of
indicators. To generate a distance score, we center and scale all numeric variables
and convert classified variables to 0 or 1 (1 if same as reference unit, 0 otherwise).
For each variable we compute the absolute percent deviation between each unit and the
reference unit, and we then sum the deviations across all variables to generate an
aggregate distance score. The lower the score, the more similar the unit for the
selected indicators.
</p>


<h3>Usage</h3>

<pre>
similar(x, var, by = 0, iso3 = "SSA")
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>x</code></td>
<td>
<p>single integer code for the reference geography, either a region code (ADM1_CODE_ALT), district code (ADM2_CODE_ALT), or gridcell code (CELL5M) to rank against</p>
</td></tr>
<tr valign="top"><td><code>var</code></td>
<td>
<p>character array of HarvestChoice variable codes used in the ranking</p>
</td></tr>
<tr valign="top"><td><code>by</code></td>
<td>
<p>single integer indicating the type of reference geography (0-gridcell, 1-region, 2-district)</p>
</td></tr>
<tr valign="top"><td><code>iso3</code></td>
<td>
<p>optional country or region filter (3-letter code)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data.table of regions, districts, or pixels ranked by similarity to reference geography <code>x</code>
</p>


<h3>Examples</h3>

<pre><code class="r">

# Rank all districts in Ghana by similarity to district 16657 (Kpando)
# using the length of growing period (LGP_AVG), irrigated cropland (GMIA_V5),
# and cassava value of production (cass_v) as benchmarks.
similar(16657, c("LGP_AVG", "GMIA_V5", "cass_v"), by=2, iso3="GHA")

# Equivalent cUrl request at the command line
curl http://hcapi.harvestchoice.org/ocpu/library/hcapi3/R/similar/json \
-d '{"x" : 16657, "var" : ["LGP_AVG", "GMIA_V5", "cass_v"], "by" : 2, "iso3" : "GHA"}' \
-X POST -H "Content-Type:application/json"



</code></pre>

<hr><div align="center">[Package <em>hcapi3</em> version 3.5 <a href="00Index.html">Index</a>]</div>
</body></html>

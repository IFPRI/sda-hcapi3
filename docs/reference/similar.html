<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Rank spatial units by similarity — similar • hcapi3</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>

<!-- mathjax -->
<script src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">hcapi3</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Rank spatial units by similarity</h1>
    </div>

    
    <p>Rank regions, districts, or pixels by similarity to a reference unit across a set of
indicators. To generate a distance score, we center and scale all numeric variables
and convert classified variables to 0 or 1 (1 if same as reference unit, 0 otherwise).
For each variable we compute the absolute percent deviation between each unit and the
reference unit, and we then sum the deviations across all variables to generate an
aggregate distance score. The lower the score, the more similar the unit for the
selected indicators.</p>
    

    <pre><span class='fu'>similar</span>(<span class='no'>x</span>, <span class='no'>var</span>, <span class='kw'>by</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>iso3</span> <span class='kw'>=</span> <span class='st'>"SSA"</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <dl class="dl-horizontal">
      <dt>x</dt>
      <dd>single integer code for the reference geography, either a region code
(ADM1_CODE_ALT), district code (ADM2_CODE_ALT), or gridcell code (CELL5M) to rank against</dd>
      <dt>var</dt>
      <dd>character array of HarvestChoice variable codes used in the ranking</dd>
      <dt>by</dt>
      <dd>single integer indicating the type of reference geography (0-gridcell,
1-region, 2-district)</dd>
      <dt>iso3</dt>
      <dd>optional country or region filter (3-letter code)</dd>
    </dl>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>a data.table of regions, districts, or pixels ranked by similarity to
a reference geography <code>x</code></p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>API call: rank Ghana districts by similarity to district 16657  (Kpando) based on
length of growing period, irrigated area, and cassava value of production</p>
    <p><code>$ curl http://hcapi.harvestchoice.org/ocpu/library/hcapi3/R/similar/json \
 -d &#39;{&quot;x&quot; : 16657, &quot;var&quot; : [&quot;LGP_AVG&quot;, &quot;GMIA_V5&quot;, &quot;cass_v&quot;], &quot;by&quot; : 2, &quot;iso3&quot; : &quot;GHA&quot;}&#39; \
 -X POST -H &quot;Content-Type:application/json&quot;
</code></p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Rank all districts in Ghana by similarity to district 16657 (Kpando)</span>
<span class='co'># based on length of growing period (LGP_AVG), irrigated cropland (GMIA_V5),</span>
<span class='co'># and cassava value of production (cass_v).</span>
<span class='fu'>similar</span>(<span class='fl'>16657</span>, <span class='fu'>c</span>(<span class='st'>"LGP_AVG"</span>, <span class='st'>"GMIA_V5"</span>, <span class='st'>"cass_v"</span>), <span class='kw'>by</span><span class='kw'>=</span><span class='fl'>2</span>, <span class='kw'>iso3</span><span class='kw'>=</span><span class='st'>"GHA"</span>)</div><div class='output co'>#&gt; <span class='error'>Error in `[.data.frame`(x, i): undefined columns selected</span></div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Melanie Bacou.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>

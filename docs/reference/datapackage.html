<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Write auxiliary files to CSV and JSON (Tabular Data Package RFC specifications) — datapackage • hcapi3</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>

<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">hcapi3</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/IFPRI/sda-hcapi3/">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Write auxiliary files to CSV and JSON (Tabular Data Package RFC specifications)</h1>
    </div>

    
    <p>Auxiliary files and metadata are appended to all data packages, but may also be
generated separately. Variable metadata is made available in tabular (.csv)
and in JSON (.json) format in conformity with Tabular Data Package RFC
specifications at <a href = 'http://dataprotocols.org/tabular-data-package/'>http://dataprotocols.org/tabular-data-package/</a>.</p>
    

    <pre class="usage"><span class='fu'>datapackage</span>(<span class='no'>var</span>, <span class='kw'>format</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>dir</span> <span class='kw'>=</span> <span class='st'>"."</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>var</th>
      <td><p>character array of HarvestChoice indicator code(s)</p></td>
    </tr>
    <tr>
      <th>format</th>
      <td><p>file extension corresponding to the data package output
format. See <code><a href='genFile.html'>genFile</a></code>. If <code>NULL</code> no auxiliary file is produced
aside from metadata records in <code>meta.csv</code>.</p></td>
    </tr>
    <tr>
      <th>dir</th>
      <td><p>character, optional output directory. Default to current working directory.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>character array of generated auxiliary file names</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>API call: Generate auxiliary files for soil organic carbon concentration and
2012 total population
    <code>$ curl http://hcapi.harvestchoice.org/ocpu/library/hcapi3/R/datapackage \
 -d '{"var" : ["soc_d5", "PN12_TOT"]}' \
 -X POST -H 'Content-Type:application/json'
</code></p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <p><a href='indicator.html'>indicator</a> and <a href='category.html'>category</a> for other convenience
methods to query HarvestChoice metadata.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Generate auxiliary files for soil organic carbon concentration and 2012 total population</span>
<span class='no'>x</span> <span class='kw'>&lt;-</span> <span class='fu'>datapackage</span>(<span class='fu'>c</span>(<span class='st'>"soc_d5"</span>, <span class='st'>"PN12_TOT"</span>))
<span class='no'>x</span> <span class='kw'>&lt;-</span> <span class='fu'>fread</span>(<span class='no'>x</span>[<span class='fl'>1</span>])
<span class='no'>x</span></div><div class='output co'>#&gt;        code                    label
#&gt; 1:   soc_d5 Soil org. carbon (0-5cm)
#&gt; 2: PN12_TOT           Total Pop. '12
#&gt;                                                                                                      description
#&gt; 1:                                             Soil organic carbon content (fine earth fraction) at 0-5cm depth.
#&gt; 2: Total population downscaled from LandScan 2012 population counts at 30 arc-second to 5 arc-minute resolution.
#&gt;          type      unit    version                aggFormula      period
#&gt; 1: continuous permilles SChEF r2.5  mean(soc_d5, na.rm=TRUE) 1950 - 2012
#&gt; 2: continuous   persons SChEF r2.5 sum(PN12_TOT, na.rm=TRUE)        2012
#&gt;        category    subcategory           item
#&gt; 1:  Agroecology Soil Resources Soil Fertility
#&gt; 2: Demographics     Population          Total
#&gt;                                                                                                                                                                                                     source
#&gt; 1: ISRIC (2014) ""World Soil Information"", in collaboration with The Earth Institute, Columbia University World Agroforestry Centre, Nairobi and the International Center for Tropical Agriculture (CIAT)
#&gt; 2:                          Bright, E. A. and Rose, A. N. (2012) ""LandScan Global Population Database 2012"", Oak Ridge National Laboratory, July 2013. Retrieved from http://web.ornl.gov/sci/landscan/.
#&gt;              contact downloadedOn
#&gt; 1:   j.koo@cgiar.org   05/16/2017
#&gt; 2: m.bacou@cgiar.org   05/16/2017
#&gt;                                                                                                                                                                                                                                   citation
#&gt; 1: HarvestChoice, 2015. ""Soil Organic Carbon Content (depth 0-5cm)"", International Food Policy Research Institute, Washington, DC., and University of Minnesota, St. Paul, MN. Available online at http://harvestchoice.org/data/soc_d5.
#&gt; 2:                HarvestChoice, 2015. ""Population, Total (2012)"", International Food Policy Research Institute, Washington, DC., and University of Minnesota, St. Paul, MN. Available online at http://harvestchoice.org/data/PN12_TOT.</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Melanie Bacou.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>

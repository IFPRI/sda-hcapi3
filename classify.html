<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>R: Create custom domains for spatial targeting</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="R.css">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.3/styles/github.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.3/highlight.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.3/languages/r.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
</head><body>

<table width="100%" summary="page for classify {hcapi3}"><tr><td>classify {hcapi3}</td><td align="right">R Documentation</td></tr></table>

<h2>Create custom domains for spatial targeting</h2>

<h3>Description</h3>

<p>All HarvestChoice spatial layers come with default value breaks to create map legends
and to automatically convert continuous variables into classified variables (this is needed
when summarizing). For example, the value breaks for cassava production may be returned
using <code>getMeta("cass_p")</code>. They are <code>c(0, 1074, 4260, 10051, 19920, 40085, 101843)</code>.
This method extends the classification logic to allow for any custom value break(s).
For example one can summarize a set of selected indicators over areas
of low population density, and/or areas covering a single farming system (or any
combination of custom domains).
</p>


<h3>Usage</h3>

<pre>
classify(var, by, ...)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>var</code></td>
<td>
<p>character array of variable names (all types are accepted)</p>
</td></tr>
<tr valign="top"><td><code>by</code></td>
<td>
<p>named list of numeric or character arrays representing custom value breaks for each variable to summarize by</p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
<p>other arguments passed to <code>getLayer()</code> (e.g. iso3, collapse)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data.table of <code>var</code> indicators aggregated by custom <code>by</code> domains
</p>


<h3>Examples</h3>

<pre><code class="r">

# Return average wealth index and poverty rates for areas of medium rural
# population density and low market access (under 5hrs travel time)
classify(var=c("wealth","TPOV_P200"),
    by=list(PD05_RUR=c(60, 100), TT_20K=c(0,5)))

# Equivalent cUrl request at the command line
curl http://hcapi.harvestchoice.org/ocpu/library/hcapi3/R/classify/json \
-d '{"var" : ["wealth", "TPOV_P200"],
    "by" : {"PD05_RUR" : [60, 100], "TT_20K" : [0, 5]}}' \
-X POST -H "Content-Type:application/json"



</code></pre>

<hr><div align="center">[Package <em>hcapi3</em> version 3.5 <a href="00Index.html">Index</a>]</div>
</body></html>

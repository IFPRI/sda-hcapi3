<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
<title>classify. hcapi3 3.5</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="author" content="">

<link href="css/bootstrap.css" rel="stylesheet">
<link href="css/bootstrap-responsive.css" rel="stylesheet">
<link href="css/highlight.css" rel="stylesheet">
<link href="css/staticdocs.css" rel="stylesheet">

<!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript"
  src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
  </head>

  <body>
    <div class="navbar">
  <div class="navbar-inner">
    <div class="container">
      <a class="brand" href="#">hcapi3 3.5</a>
      <div class="nav">
        <ul class="nav">
          <li><a href="index.html"><i class="icon-home icon-white"></i> Index</a></li>
        </ul>
      </div>
    </div>
  </div>
</div>

    <div class="container">
      <header>
        
      </header>
      
      <h1>Create custom domains for spatial targeting</h1>

<div class="row">
  <div class="span8">
    <h2>Usage</h2>
    <pre><div>classify(var, by, ...)</div></pre>
    
    <h2>Arguments</h2>
    <dl>
      <dt>var</dt>
      <dd>character array of variable names (all types are accepted)</dd>
      <dt>by</dt>
      <dd>named list of numeric or character arrays representing custom value
breaks for each variable to summarize by</dd>
      <dt>...</dt>
      <dd>other arguments passed to <code><a href='getLayer.html'>getLayer</a></code> e.g. iso3, collapse</dd>
    </dl>
    
    <div class="Value">
      <h2>Value</h2>

      <p><dl>
a data.table of <code>var</code> indicators aggregated by custom <code>by</code> domains
</dl></p>
  
    </div>

    <div class="Description">
      <h2>Description</h2>

      <p>All HarvestChoice spatial layers come with default value breaks to create map legends
and to automatically convert continuous variables into classified variables (this is needed
when summarizing). For example, the value breaks for cassava production may be returned
using <code>describe("cass_p")$classBreaks</code>. They are <code>c(0, 1074, 4260, 10051, 19920, 40085, 101843)</code>.
This method extends the classification logic to allow for any custom value break(s).
For example one can summarize a set of selected indicators over areas
of low population density, and/or areas covering a single farming system (or any
combination of custom domains). Note that calling <code>classify(...)</code> is equivalent
to calling the convenience method <code>hcapi(...)</code>.</p>
  
    </div>
    
    <h2 id="examples">Examples</h2>
    <pre class="examples"><div class='input'># Return average wealth index and poverty rates for areas of medium rural
# population density and low market access (under 5hrs travel time)
x &lt;- classify(c(&quot;wealth&quot;,&quot;TPOV_PT200&quot;),
       by=list(PD05_RUR=c(60, 100), TT_20K=c(0, 5)))

# Equivalent cUrl request at the command line
# curl http://hcapi.harvestchoice.org/ocpu/library/hcapi3/R/classify/json \
# -d &#39;{&quot;var&quot; : [&quot;wealth&quot;, &quot;TPOV_PT200&quot;], &quot;by&quot; : {&quot;PD05_RUR&quot; : [60, 100], &quot;TT_20K&quot; : [0, 5]}}&#39; \
# -X POST -H &quot;Content-Type:application/json&quot;

# Return average rainfall in 2 Ethiopia districts for areas below 600m elevation
x &lt;- classify(&quot;pre_mean&quot;, by=list(ADM2_NAME_ALT=c(&quot;Bale&quot;, &quot;Hadiya&quot;), ELEVATION=c(0, 600)))

# Equivalent cUrl request at the command line passing a well-formatted JSON object
# Note that the `/classify/json` or `/hcapi/json` endpoints are equivalent
# curl http://hcapi.harvestchoice.org/ocpu/library/hcapi3/R/hcapi/json \
# -d &#39;{&quot;var&quot; : &quot;pre_mean&quot;, &quot;by&quot; : {&quot;ADM2_NAME_ALT&quot; : [&quot;Bale&quot;, &quot;Hadidya&quot;], &quot;ELEVATION&quot; : [0, 600]}}&#39; \
# -X POST -H &quot;Content-Type:application/json&quot;
</div></pre>
  </div>
  <div class="span4">
    <!-- <ul>
      <li>classify</li>
    </ul>
    <ul>
      
    </ul> -->
      
    <h2>See also</h2>
    
<code><a href='similar.html'>similar</a></code> for identifying areas with similar patterns

        
  </div>
</div>
      
      <footer>
      <p class="pull-right"><a href="#">Back to top</a></p>
<p>Built by <a href="https://github.com/hadley/staticdocs">staticdocs</a>. Styled with <a href="http://twitter.github.com/bootstrap">bootstrap</a>.</p>
      </footer>
    </div>
  </body>
</html>